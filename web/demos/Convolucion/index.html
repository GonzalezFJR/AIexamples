<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Demo filtros convolucionales</title>
    <!-- Importar Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <section class="section">
        <div class="container">
            <!-- Título de la página -->
            <h1 class="title has-text-centered">Demo filtros convolucionales</h1>

            <!-- Columns -->
            <div class="columns">
                <!-- Left Column: Matrix Visualization -->
                <div class="column is-7">
                    <!-- Contenedor de la matriz principal -->
                    <div id="matrix-container"></div>
                </div>

                <!-- Right Column: Controls -->
                <div class="column is-5">
                    <!-- Botones -->
                    <div class="buttons">
                        <button id="toggle-values-button" class="button is-primary is-fullwidth is-small">Ocultar valores</button>
                        <button id="normalize-button" class="button is-info is-fullwidth is-small">Normalizar</button>
                        <button id="reset-button" class="button is-danger is-fullwidth is-small">Restablecer Matriz</button>
                    </div>

                    <!-- Diseñador de Filtro Convolucional -->
                    <h2 class="title is-5">Diseñador de Filtro Convolucional</h2>
                    <div id="filter-designer">
                        <div class="field is-small">
                            <label class="label is-small">Tamaño del filtro (M x M):</label>
                            <div class="control">
                                <input type="number" id="filter-size" class="input is-small" min="1" value="3">
                            </div>
                        </div>

                        <!-- Selector de filtros predefinidos -->
                        <div class="field is-small">
                            <label class="label is-small">Filtros Predefinidos:</label>
                            <div class="control">
                                <div class="select is-fullwidth is-small">
                                    <select id="predefined-filters">
                                        <option value="">Selecciona un filtro</option>
                                        <option value="edge-detection">Detección de Bordes</option>
                                        <option value="sharpen">Enfocar</option>
                                        <option value="blur">Desenfoque</option>
                                        <!-- Puedes añadir más filtros aquí -->
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="field is-small">
                            <label class="label is-small">Stride:</label>
                            <div class="control">
                                <input type="number" id="stride" class="input is-small" min="1" value="1">
                            </div>
                        </div>

                        <div class="field is-small">
                            <label class="label is-small">Padding:</label>
                            <div class="control">
                                <input type="number" id="padding" class="input is-small" min="0" value="0">
                            </div>
                        </div>

                        <!-- Opción para activar/desactivar previsualización -->
                        <div class="field is-small">
                            <label class="checkbox is-small">
                                <input type="checkbox" id="preview-toggle">
                                Activar Previsualización
                            </label>
                        </div>

                        <button id="generate-filter-button" class="button is-link is-fullwidth is-small">Generar Filtro</button>

                        <!-- Contenedor del filtro -->
                        <div id="filter-container"></div>

                        <button id="apply-filter-button" class="button is-success is-fullwidth is-small">Aplicar Filtro</button>
                    </div>

                    <!-- Opciones de Pooling -->
                    <h2 class="title is-5">Aplicar Filtro de Pooling</h2>
                    <div id="pooling-options">
                        <div class="field is-small">
                            <label class="label is-small">Tipo de Pooling:</label>
                            <div class="control">
                                <div class="select is-fullwidth is-small">
                                    <select id="pooling-type">
                                        <option value="max">Max Pooling</option>
                                        <option value="average">Average Pooling</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="field is-small">
                            <label class="label is-small">Tamaño de Pooling (K x K):</label>
                            <div class="control">
                                <input type="number" id="pooling-size" class="input is-small" min="1" value="2">
                            </div>
                        </div>

                        <div class="field is-small">
                            <label class="label is-small">Stride:</label>
                            <div class="control">
                                <input type="number" id="pooling-stride" class="input is-small" min="1" value="2">
                            </div>
                        </div>

                        <button id="apply-pooling-button" class="button is-success is-fullwidth is-small">Aplicar Pooling</button>
                    </div>

                    <!-- Mensaje -->
                    <div id="message"></div>
                </div>
            </div>
        </div>
    </section>

    <script>
        var N = 10; // Tamaño inicial de la matriz
    </script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
